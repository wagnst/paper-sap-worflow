%%%%%%%%%%%%%%%%%%%
%% KAPITEL Intro %%
%%%%%%%%%%%%%%%%%%%
\section{Einführung}
% MARCO
% was ist es, wer benutzt es, wofür braucht man es
% erreichbar durch Transaktion SWDD, im SAP System eingebaut usw
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% http://www.connexin.net/de/sap-transaktionen-uebersicht.html
% -> Hier auch die Workflow transaktionen mit LOG etc erwähnen!
% http://help.sap.com/saphelp_nw04s/helpdata/EN/c5/e4b79d453d11d189430000e829fbbd/content.htm
% -> Bild zum Beispiel für die Übersicht des Builders zu erklären
% http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/3c2b9c90-0201-0010-ab86-a574c7881607?QuickLink=index&overridelayout=true&5003637211723
% -> schöne Definitionen und Übersicht des Builders
% http://www.edv-buchversand.de/sap/chapter.php?cnt=getchapter&id=gp-9285.pdf
% -> auch sehr gut für Übersicht!!
% http://www.abap-tutorials.com/wp-content/uploads/pdfs/workflow_tutorial.pdf
% -> geil für die Einführung mit Warum brauchen wir überhaupt Workflows etc..


\subsection{Funktionen des Builders}
\label{sec:builder-funktionen}
% MARCO
% welche Funktionalitäten hat der Builder...
Im Folgenden sollen nun zuerst die wichtigsten Funktionen des \gls{sap} Workflow Builders erklärt werden. Danach folgt im Kapitel \nameref{sec:builder-elemente} eine breiter gefächerte tabellarische Übersicht. Dort sind auch die Symbole der Schrittypen mit aufgeführt. 

Beim ersten Start des Programms wird dem Benutzer statt einer leeren Arbeitsfläche der minimale Aufbau eines Workflows im \gls{sap}-System angezeigt. Dieser besteht aus dem Startereignis "`Workflow gestartet"' und dem Endereignis "`Workflow beendet"'. Dazwischen können beliebige Schritte an Stelle des unbekannten Schrittes (gekennzeichnet durch einen Pfeil auf weißem Hintergrund) eingefügt werden.

\begin{figure}[H]
	\begin{center}
	\includegraphics[width=150px]{grafiken/wf-builder_new-wf.png}
	\caption{Der initiale Workflow des Builders}
	\vspace{-10pt}
	\label{abb:workflow-easy}
	\end{center}
\end{figure}

\subsubsection{Aktivität}
Der wichtigste Schritttyp ist die Aktivität, welche verschiedene Aufgaben erfüllen kann. Der Benutzer kann entweder einen \gls{abap} \gls{objekttyp} und eine zugehörige Methode oder eine im System vorhandene und schon definierte Aufgabe auswählen. Die entsprechende Aktivität wird dann vom System automatisch gestartet, wenn die Stelle im laufenden Workflow erreicht wird \cite{SAPHelp}.

\subsubsection{Web-Aktivität}
Mit Hilfe dieses Schrittes wird aus dem internen Workflow heraus ein XML-Dokument an eine URL gesendet. Der Empfänger kann beispielsweise ein anderes System sein, welches daraufhin einen eigenen Workflow startet. Alle \gls{sap}-Systeme stellen einen Service zur Verfügung, welcher in diesem Fall automatisch einen weiteren Workflow starten kann \cite{SAPHelp}.

\subsubsection{Mail versenden}
Dieser Schritt versendet eine Nachricht innerhalb des \gls{sap}-Systems. Der Empfänger (es sind mehrere Empfänger möglich) kann diese im internen Postfach abrufen. Der Text der Mail wird bei der Definition des Schrittes festgelegt, wobei Variablen verwendet werden können, welche zur Laufzeit mit den entsprechenden Werten gefüllt werden \cite{SAPHelp}.

\subsubsection{Formular}
Ein Formular kann innerhalb des Workflows zur Anzeige von Daten oder deren Bearbeitung durch den Endnutzer verwendet werden. Nachdem bei der Definition des Schrittes die zu bearbeitenden Daten angegeben wurden, erzeugt das Workflow-System automatisch das zugehörige Formular, welches noch bearbeitet werden kann \cite{SAPHelp}. 

\subsubsection{Benutzerentscheidung}
Eine Benutzerentscheidung kann mit einem Text versehen werden, welcher dem Endnutzer erklärt, welche Entscheidung er treffen muss. Der Workflow kann so konfiguriert werden, dass er, je nachdem welche der vorgegebenen Antwortmöglichkeiten ausgewählt wurde, einen anderen Pfad wählt \cite{SAPHelp}.

\subsubsection{Bedingungen}
Die Schritte Bedingung und Mehrfachbedingung bestimmen, ähnlich der Benutzerentscheidung, den weiteren Ablauf des Workflows. Der Unterschied besteht darin, dass das System die Entscheidung eigenständig nach vorgegebenen Bedingungen fällt und der Benutzer keinen Einfluss darauf hat \cite{SAPHelp}.

\subsubsection{Schleifen}
Die WHILE- und UNTIL-Schleifen können eingesetzt werden, wenn ein bestimmter Teil des Workflows ausgeführt werden soll, während eine bestimmte Bedingung wahr ist oder so lange, bis sie eintritt. Schleifen können sämtliche Schrittypen (auch weitere Schleifen) enthalten und sorgen dafür, dass ein Workflow übersichtlich bleibt \cite{SAPHelp}.

\subsection{Builder Elemente}
\label{sec:builder-elemente}
% MARCO, STEFFEN
% tabelle mit elementen..
% was ist wofür gedacht
\begin{table}[H]
	\begin{tabular}{|c|p{2.2cm}|p{10.8cm}|}
		\hline
		\textbf{Symbol} & \textbf{Schritttyp} & \textbf{Beschreibung}\\
		\hline
		\includegraphicstotab[width=0.8cm]{grafiken/aktivitaet.png}
		& 
		Aktivität & Ausführen einer ABAP-Methode oder einer vordefinierten Aufgabe \\ 
		\hline \includegraphicstotab[width=0.8cm]{grafiken/web-aktivitaet.png} 
		& 
		Web-Aktivität & \gls{xml}-Dokument an eine URL senden, z.B. um Workflows in Fremdsystemen zu starten\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/mail-versenden.png} 
		& 
		Mail-Versendung & Nachricht an Endnutzer versenden\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/formular.png}
		& 
		Formular-schritt & Anzeige von Daten und Möglichkeit zum Bearbeiten dieser durch Endnutzer\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/benutzerentscheidung.png}
		& 
		Benutzer-entscheidung & Beantworten einer Frage bzw. Treffen einer Entscheidung durch den Benutzer zur Beeinflussung des Workflows\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/dokument-aus-vorlage.png}
		& 
		Dokument aus Vorlage & Anzeigen oder Bearbeiten von Dokumenten, die mit externen Anwendungen erstellt wurden mit Hilfe eines auf dem Rechner installierten Programms\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/bedingung.png}
		& 
		Bedingung & Bedingte, selbstständige Entscheidung für einen Pfad aus zwei Möglichkeiten durch das System\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/mehrfachbedingung.png}
		& 
		Mehrfach-bedingung & Bedingte, selbstständige Entscheidung für einen Pfad aus mehreren Möglichkeiten durch das System\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/ereigniserzeuger.png}
		& 
		Ereignis-erzeuger & Auslösen eines Ereignisses, auf welches ein Warteschritt wartet\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/warten.png}
		& 
		Warteschritt & Warten, bis ein durch einen Ereigniserzeuger generiertes Ereignis eintritt\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/containeroperationen.png}
		& 
		Container-operationen & Verändern von Elementen des Workflow-Containers (Umgebung des aktiven Workflows mit Variablen und Benutzerentscheidungen)\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/ablaufsteuerung.png}
		& 
		Ablauf-steuerung & Eingriff in den Ablauf des aktuellen Workflows - Abbruch oder Beenden einzelner Schritte oder des gesamten Workflows\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/schleife.png}
		& 
		Schleifen & Mehrfache Ausführung eines Blocks von Schritten unter einer bestimmten Bedingung\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/paralleler-abschnitt.png}
		& 
		Paralleler Abschnitt & Aufsplitten des Workflows in zwei parallel laufende Pfade\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/ad-hoc-anker.png}
		& 
		Ad-hoc-Anker & Möglichkeit, einen anderen Workflow des Systems zu hinterlegen, der vom berechtigten Benutzer ausgeführt werden kann\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/block.png}
		& 
		Block & Zusammenfassen mehrerer Schritte zu einem Block mit eigenen Variablen\\ 
		\hline 
		\includegraphicstotab[width=0.8cm]{grafiken/lokaler-workflow.png}
		& 
		Lokaler Workflow & Einfügen eines Sub-Workflows, welcher vollen Zugriff auf die Daten des aktuellen Workflows hat\\ 
		\hline 
	\end{tabular} 
% Beschriftung festlegen:
\caption{Symbolerklärung des \gls{sap} Workflow Builders}
% ein Label definieren, mit dessen Hilfe man (an beliebiger Stelle im Dokument) Bezug nehmen kann:
\label{tab:builderelemente}
\end{table}

%%%%%%%%%%%%%%%%%%%%%
%% KAPITEL HandsOn %%
%%%%%%%%%%%%%%%%%%%%%
%% MARCO
%%%%%%%%%%%%%%%%%%%%%
\section{Hands On}

\subsection{Erster Beispielworkflow}
\label{sec:builder-1-bsp}
% kleiner sinnloser workflow (schleife,...) => aus dem Video Tutorial

\subsection{Zweiter Beispielworkflow}
\label{sec:builder-2-bsp}
% demo workflow aus den vorlagen nehmen (abwesenheitsbestätigung)

\subsubsection{Vorstellung des Workflows}
\label{sec:builder-2-bsp-vorstellung}
% wofür ist der workflow gut, was soll er tun (aus anwendersicht)

\subsubsection{Umsetzung des Workflows}
\label{sec:builder-2-bsp-umsetzung}
% technische sicht, "`klickbares"' howto

%%%%%%%%%%%%%%%%%%%%%%%%%%
%% KAPITEL Fremdsysteme %%
%%%%%%%%%%%%%%%%%%%%%%%%%%
%% JONAS 
%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Schnittstellen}

\subsection{SAP Fremdsysteme}
\label{sec:export-sap}

\gls{sap} Systeme liefern Workflows, die auf das Ziel der Applikation ausgelegt sind. \gls{erp}, \gls{crm} und \gls{srm} sind Beispiele für Systeme, die eingebaute, vordefinierte Workflows bereitstellen. 

Die Workflows sind anpassbar, um den Bedürfnissen der Firma gerecht zu werden. Es können mit dem Workflowbuilder ganz eigene Geschäftsprozesse entwickelt werden, die natürlich über Modulgrenzen hinweg Zugriff auf Daten besitzen. So können Daten aus einem \gls{crm}-System in einem \gls{erp} zur Analyse, Auswertung und Bearbeitung von Daten hinzugezogen werden.

\subsection{XML}
\label{sec:export-xml}
% was ist dieses Format
% in welche Programme kann man es importieren?

\gls{xml} ist die Abkürzung für E\textbf{x}tensible \textbf{M}arkup \textbf{L}anguage und bezeichnet eine Auszeichnungssprache. Mit dieser können hierarchisch strukturierte Daten in Textform dargestellt werden. \gls{xml} besteht aus Elementen, deren Name, bis auf ein paar Ausnahmen, frei gewählt werden darf. Elemente haben einen Anfangs- ($\langle$elementName$\rangle$) und einen Endtag ($\langle$/elementName$\rangle$). Zwischen den Tags können weiter Elemente, Text und Knoten stehen. Diese sind dem Element dann untergeordnet.

Das World Wide Web Consortium, kurz \gls{w3c}, hat \gls{xml} als eine Metasprache definiert, auf deren Basis anwendungsspezifische Auszeichnungssprachen entwickelt werden können. Diese werden beschrieben durch ein Schema, welches festlegt, welche Elemente verwendet werden dürfen und welches Verhalten diese aufweisen \cite{XML}. So ist \gls{zb} auch XHTML definiert.

\subsection{BPMN und BPML}
\label{sec:export-bpmn-bpml}
% was ist dieses Format
% in welche Programme kann man es importieren?

\textbf{B}usiness \textbf{P}rocess \textbf{M}odel and \textbf{N}otation (\gls{bpmn}) ist eine grafische Spezifikationssprache, welche Symbole bereitstellt mit deren Hilfe Geschäftsprozesse und Arbeitsabläufe dargestellt werden können.\cite{BPMN} \gls{bpmn} wurde 2005 von der \gls{omg}, auch zuständig für \gls{zb} \gls{uml}, übernommen und gewann ab dann an Bedeutung in der Informatik. Außerdem wurde sie 2013 zum internationalen Standard (ISO/IEC 19510:2013) erhoben \cite{OMG}.

Da sich \gls{bpmn} rein auf die Darstellung von Workflows bezieht wurden mehrere, von \gls{xml} abgeleitete, Auszeichnungssprachen entwickelt, um Business Process Models auch als, für einen Computer verständliche, Daten aufschreiben zu können. Dazu zählen \gls{zb} \gls{bpel}, \gls{xpdl} oder \gls{bpml} \cite{BPMN}.

Die \textbf{B}usiness \textbf{P}rocess \textbf{M}odeling \textbf{L}anguage (\gls{bpml}) wird von \gls{sap} im Workflowbuilder (\ref{chap:builder}) verwendet um Geschäftsprozesse zu exportieren. Da \gls{bpml} auch unter dem Dach der \gls{omg} steht wird sie auch in anderen Workflow Management Systemen, wie \gls{zb} jBPM, Camunda BMP oder ARIS, verwendet. Dadurch lassen sich \gls{sap}-interne Geschäftsprozesse auch extern einbetten \cite{BPML}.